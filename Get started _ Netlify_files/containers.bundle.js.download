"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2244],{10839:(b,R,t)=>{t.d(R,{Z:()=>o});var i=t(24246),f=t(27378),v=t(23884),s=t(11212),D=t(25556),A=t(74092),E=t(11982);const c=n=>{const{setIsLoadingApp:e}=(0,E.bn)(),a=n.site.get("analytics_instance_id");(0,f.useEffect)(()=>{n.onLoad(n),e(!1)},[a]);const g=n.component||n.children;return(0,i.jsx)(g,{...n})};function l(n,{site:e,account:a}){return{paymentMethod:(0,A.DY)(n,a),paymentProvider:(0,D.nY)(a),pageviews:(0,s.PO)(n,e),uniqueVisitors:(0,s.lW)(n,e),topLocations:(0,s.Z$)(n,e),topSources:(0,s.nV)(n,e),topPages:(0,s.gg)(n,e),bandwidthUsed:(0,s.Tf)(n,e),notFound:(0,s.p_)(n,e),summary:(0,s.mq)(n,e),filterSelected:(0,s._$)()}}function u(n,{account:e,site:a,hasCharts:g,apiVersion:L}){return{onEnable:r=>n((0,s.Dc)(r)),onLoad:({config:r})=>{g&&a.get("analytics_instance_id")?(n((0,s.Te)(a)),n((0,s.Pc)(a)),n((0,s.mE)(a)),n((0,s.bc)(a)),n((0,s.Ww)(a)),n((0,s.Wo)(a)),n((0,s.XF)(a))):n((0,A.nS)(e))},onPaymentProviderTokenUsed:r=>n((0,D.Uc)(e,r)),onSavePaymentMethod:r=>n((0,A.BX)(r,e)),onUpdateFilter:(r,{resolution:P,days:m,minusOffsetDays:I})=>{n((0,s.Te)(r,{resolution:P,days:m,minusOffsetDays:I})),n((0,s.Pc)(r,{resolution:P,days:m,minusOffsetDays:I})),n((0,s.Wo)(r,{resolution:P,days:m,minusOffsetDays:I})),n((0,s.Ww)(r,{resolution:P,days:m,minusOffsetDays:I})),n((0,s.bc)(r,{resolution:P,days:m,minusOffsetDays:I})),n((0,s.XF)(r,{resolution:P,days:m,minusOffsetDays:I})),n((0,s.mE)(r,{resolution:P,days:m,minusOffsetDays:I}))},onDelete:()=>n((0,s.Ji)(a))}}const o=(0,v.$j)(l,u)(c)},41981:(b,R,t)=>{t.d(R,{Z:()=>cn,Q:()=>jt});var i=t(24246),f=t(62935),v=t(60042),s=t.n(v),D=t(90046),A=t.n(D),E=t(27378),c=t(23884),l=t(34740),u=t(36891),o=t(31425),n=t(10583),e=t(2799),a=t(4310),g=t(25556),L=t(27196),r=t(69969),P=t(10364),m=t(4860),I=t(61712),M=t(11632),T=t(43455),S=t(72798),h=t(41023),y=t(55902),$=t(53507),J=t(78025);const x=_=>{const[O,W]=(0,E.useState)(""),nt=({a11yMessage:V})=>{V&&(setTimeout(()=>{W(V)},50),setTimeout(()=>{W("")},500))};return(0,E.useEffect)(()=>{nt(_)},[_]),(0,i.jsx)("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"visuallyhidden",children:O})};function j(_){return{a11yMessage:(0,T._P)(_)}}const K=(0,c.$j)(j,{setLoading:T.K4,setA11yMessage:T.FY})(x);var d=t(53042),p=t(15148),U=t(81567),C=t(11982),N=t(30364),G=t(31399),ot=t(28523),B=t(64824),Y=t(1800),z=t(91768),Q=t(37421),F=t(76352),w=t(23229),X=t(41862),rt=t(21809),it=t(81072),Pt=t(71405),Dt=t(93985),mt=t(17426);const _t=" | ",q=10*60*1e3;let tt="",et="",lt;function Lt(_){return typeof _!="object"||_===null?_:Array.isArray(_)?A().Seq(_).map(Lt).toList():A().Seq(_).map(Lt).toOrderedMap()}const at=({site:_,account:O})=>(0,X.CY)(_,O),dt=(_,O)=>({account:W})=>W&&W.getIn(["user_capabilities",_,O]),Z=()=>!0,ct=()=>!1,Ut=Lt({sites:{overview:{label:"Site overview",path:B.Z6.SITES_OVERVIEW,isVisible:at},deploys:{label:"Deploys",path:B.Z6.SITES_DEPLOYS_ALL,isVisible:({site:_,account:O})=>(0,X.Md)(_,O)},functions:{label:"Functions",path:B.Z6.SITES_FUNCTIONS_ALL,isVisible:at},"edge-functions":{label:"Edge Functions",path:B.Z6.EDGE_FUNCTIONS_BASE,isVisible:at},identity:{label:"Identity",path:B.Z6.SITES_IDENTITY_BASE,isVisible:at},forms:{label:"Forms",path:B.Z6.SITES_FORMS_ALL,isVisible:at},"large-media":{label:"Large Media",path:B.Z6.SITES_LARGE_MEDIA,isVisible:at},splits:{label:"Split Testing",path:B.Z6.SITES_SPLIT_TESTING,isVisible:at},analytics:{label:"Analytics",path:B.Z6.SITES_ANALYTICS,isVisible:at},graph:{label:"Graph",path:B.Z6.SITES_GRAPH_BASE,isVisible:at},settings:{label:"Site settings",path:B.Z6.SITES_SETTINGS_BASE,isVisible:at}},teams:{overview:{label:"Team overview",path:B.Z6.TEAM_OVERVIEW,isVisible:({account:_})=>dt("accounts","r")({account:_})},sites:{label:"Sites",path:B.Z6.TEAM_SITES,isVisible:dt("sites","u")},builds:{label:"Builds",path:B.Z6.TEAM_BUILDS,isVisible:({account:_})=>(0,X.Yz)(_)},integrations:{label:"Integrations",path:B.Z6.INTEGRATIONS_DOT_COM,isVisible:dt("sites","u"),isExternal:!0},dns:{label:"Domains",path:B.Z6.TEAM_DNS_BASE,isVisible:dt("sites","u")},members:{label:"Members",path:B.Z6.TEAM_MEMBERS,isVisible:dt("members","r")},deploys:{label:"Deploys",path:B.Z6.TEAM_DEPLOYS,isVisible:({account:_})=>(0,X.zv)(_)},log:{label:"Audit log",path:B.Z6.TEAM_LOG,isVisible:({account:_})=>dt("accounts","r")&&(_==null?void 0:_.getIn(["user_capabilities","sites","c"]))},billing:{label:"Billing",path:B.Z6.TEAM_BILLING_BASE,isVisible:dt("billing","r")},settings:{label:"Team settings",path:B.Z6.TEAM_SETTINGS_BASE,isVisible:({account:_})=>_&&(_.getIn(["user_capabilities","accounts","r"])||_.getIn(["user_capabilities","billing","r"]))&&!(0,X.F0)(_)}},user:{applications:{label:"Applications",path:B.Z6.USER_APPLICATIONS,isVisible:ct},security:{label:"Security",path:B.Z6.USER_SECURITY,isVisible:ct}}});function jt(_,O=window.location.pathname){const{account:W,site:nt,params:V}=_,Et=(0,Q.fR)(O,V),ft=Ut.getIn(Et.slice(0,2));return((ft==null?void 0:ft.get("isVisible"))||Z)({account:W,site:nt})}function qt({location:_,params:O}){const W=(0,Q.fR)(_.pathname)[0],nt=Ut.get(W);return nt==null?void 0:nt.map(V=>V.get("path").startsWith("http")?V:V.set("path",(0,Q.Gn)(V.get("path"),O)))}function tn(_){var O;return(O=_[_.length-1])==null?void 0:O.back}function nn({routes:_,location:O,params:W,navigation:nt}){const{pathname:V,search:Et}=O,ft=(0,Q.fR)(V,W)[1],gt=tn(_)&&(nt==null?void 0:nt.get(ft));return gt&&[B.Z6.TEAM_PLUGINS,B.Z6.SITES_GRAPH_BASE].some(At=>(0,Q.LX)(At,gt.get("path")))?gt:gt&&gt.set("path",`/${(0,Q.Kn)(V).slice(0,-1).join("/")}${Et}`)}function on(){var _,O;const W=[],nt=document.querySelectorAll('[aria-label="Secondary navigation"] [aria-current], [aria-label="Sidebar"] [aria-current] > a, [aria-label="Breadcrumb"] [aria-current]');for(let V=0,Et=nt.length;V<Et;V++)W.push((_=nt[V].textContent)==null?void 0:_.trim());if(W.length<2){const V=document.querySelector("main h1, main h2");V&&W.push((O=V.getAttribute("data-page-title")||V.textContent)==null?void 0:O.trim())}return W.unshift("Netlify"),(0,D.OrderedSet)(W.reverse()).slice(0,2).toArray().join(_t)}function Gt(){if(!(0,F.St)("tracking_session_id")){const _=(0,o.Z)();(0,F.D9)("tracking_session_id",_)}}function Yt(){(0,F.St)("tracking_session_id")&&(0,F.lD)("tracking_session_id")}function en(_){tt=window._sift=window._sift||[],tt.push(["_setAccount",J.Z.siftBeaconKey]),tt.push(["_setSessionId",_]),tt.push(["_setUserId",""]),tt.push(["_trackPageview"]);const O=document.createElement("script");O.src="https://cdn.sift.com/s.js",document.body.prepend(O)}const sn=_=>{const{isAuthViewReady:O,account:W,api:nt,children:V,excludeAppNav:Et=!1,loadNotifications:ft,onDragEnd:gt,onDragEnter:At,onDragLeave:ht,onDragOver:Wt,onDrop:zt,onLoad:Xt,redirect:Ot,setA11yMessage:Ct,user:ut,userId:Kt,params:Nt,routePath:k,onChangeRoutePath:Rt,showGuidedOnboarding:Ht,currentProviderSecureDecision:$t,onCancelDeploy:St}=_,{isLoadingApp:yt}=(0,C.bn)(),[pt,Bt]=(0,E.useState)(!0),[Ft,xt]=(0,E.useState)(!1),[Vt,bt]=(0,E.useState)(null),[It,ln]=(0,E.useState)(null),[Qt,un]=(0,E.useState)($t),wt=(0,G.Z)(Kt),_n=()=>{Ft||(xt(!0),Xt({siteName:Nt.name}).then(H=>{xt(!1),!H&&Bt(!1)}).catch(H=>{xt(!1),bt(H),Bt(!1)}).finally(()=>{requestIdleCallback(()=>{Array.isArray(window._asyncScriptsWaitingLoad)&&(window._asyncScriptsWaitingLoad.map(H=>H()),window._asyncScriptsWaitingLoad=[])},{timeout:2e3})}))},Jt=()=>{const H=window.location.hash;H&&H!==It&&ln((0,z.dP)(H)&&H)},En=()=>{const H=on();if(H!==document.title){document.title=H;const st=document.querySelector("h1, h2"),vt=st&&st.textContent||"";vt&&Ct(`Navigated to ${vt}`)}},dn=()=>{window.addEventListener("hashchange",Jt,!1),document.addEventListener("dragenter",At,!1),document.addEventListener("dragleave",ht,!1),document.addEventListener("dragover",Wt,!1),document.addEventListener("drop",zt,!1)},gn=()=>{window.removeEventListener("hashchange",Jt),document.removeEventListener("dragenter",At),document.removeEventListener("dragleave",ht),document.removeEventListener("dragover",Wt),document.removeEventListener("drop",gt)};(0,N.Z)(()=>{ft(_)},q),(0,E.useEffect)(()=>{wt!==Kt&&_n()},[Kt,wt]),(0,E.useEffect)(()=>{et!==k&&(et=k,lt=(0,rt.ao)({routePath:k}),lt.whenDataFullyLoaded({timeout:15e3,whenDFLCallback:({viewDFLTimedOut:H})=>{lt.markDataFullyLoaded({viewDFLTimedOut:H})}})),!pt&&!yt&&lt&&lt.markInitialRender()},[pt,yt,k]),(0,E.useEffect)(()=>{!W||!ut||((0,rt.AC)({id:ut.get("id"),email:ut.get("email"),accountId:W.get("id"),plan:W.get("type_slug")}),(0,rt._z)("buildUTCTime",1671231270020))},[W,ut]),(0,E.useEffect)(()=>{!O||(Bt(!1),w.Z.setContext("sites",[],async(H,st)=>{const{data:vt}=await nt.sites({searchTerm:H,page:st});return vt.map(Zt=>(0,Y.rm)(Zt))}),w.Z.setContext("integrations-hub",[],async H=>{const st=await(0,Y.Ts)();return(0,Y.JU)(st,H)}))},[O]),(0,E.useEffect)(()=>(dn(),Gt(),en((0,F.St)("tracking_session_id")),(0,F.St)("team_upgrade_flow")||(0,F.D9)("team_upgrade_flow",JSON.stringify({})),()=>{gn(),Yt()}),[]),(0,E.useEffect)(()=>{if(Ot)return l.mW.replace(Ot)},[Ot]),(0,E.useEffect)(()=>l.mW.listenBefore(({pathname:st,search:vt,hash:Zt})=>{let Tt=st||"";if(Tt.length>1&&Tt.endsWith("/")&&(Tt=Tt.slice(0,-1)),B.mS.includes(Tt)||B.Vi.some(Mt=>Mt(Tt))){Bt(!0);const Mt=new URL(st,window.location.origin);Mt.search=vt,Mt.hash=Zt,console.log("direct navigation to a token managing route. triggering full page nav",Mt.toString()),window.location.href===Mt.toString()?window.location.reload():(window.location.href=Mt.toString(),setTimeout(()=>{window.location.reload()},50))}}),[]),(0,E.useEffect)(()=>{Rt(k),(0,F.D9)("routePath",k)},[Rt,k]),(0,E.useEffect)(()=>{O&&Qt&&_.setPaymentProviderSecureDecisionState(!0)},[O,Qt]),(0,E.useEffect)(()=>{En(),Jt()}),(0,E.useEffect)(()=>{const H=(0,F.le)("dropUploadInterrupted"),st=(0,F.le)("dropDeployId"),vt=(0,F.le)("dropSiteName");H&&st&&(St(vt,st),(0,F.e8)("dropDeployId"),(0,F.e8)("dropSiteName"))},[St]);const kt=(H={})=>{const st=k===B.Z6.TEAM_OVERVIEW,vt=k===B.Z6.DROP_BASE||k.startsWith(B.Z6.DROP_DETAIL),Zt=k.startsWith(B.Z6.SITES_GRAPH_BASE),{project_unown_ui:Tt}=H,Mt=Tt&&Ht&&st,Pn="before:tw-bg-gray-lighter dark:before:tw-bg-gray-darkest before:tw-h-[660px] md:before:tw-h-[560px] lg:before:tw-h-[460px]";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(K,{}),(0,i.jsx)(U.Z,{account:W,user:ut}),(0,i.jsx)(d.Z,{account:W,user:ut}),!Et&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.Z,{..._}),(0,i.jsx)($.Z,{account:W})]}),(0,i.jsxs)("div",{className:s()("app",vt&&"page-drop__wrapper",Zt&&"page-graph__wrapper"),children:[!Et&&(0,i.jsx)(h.Z,{..._}),(0,i.jsxs)("main",{id:"main",className:s()("app-main",Mt&&Pn),role:"main",tabIndex:-1,children:[(0,i.jsx)(it.Z,{}),(0,i.jsx)(Dt.Z,{account:W}),Vt?(0,i.jsx)(ot.Z,{error:Vt}):V]}),!Et&&(0,i.jsx)(S.Z,{})]})]})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Pt.Z,{show:yt}),O?(0,i.jsx)(p.O1,{account:W,children:(0,i.jsx)(p.Ft,{children:({ready:H,flags:st})=>(O&&$t!==!0&&st.project_golduck_ui&&setTimeout(()=>Promise.resolve(un(!0))),!pt&&!Ot&&H&&(0,i.jsx)(mt.Z,{children:kt(st)}))})}):!pt&&!Ot&&kt()]})},rn=(_,{params:O,routes:W,location:nt,children:V})=>{var Et,ft,gt,At,ht,Wt;const{name:zt,account_slug:Xt,organization_slug:Ot}=O,Ct=(0,I.lH)(_,zt),ut=(0,a.HF)(_),Kt=(0,n.L3)(_),Nt=Xt||Ct&&Ct.get("account_slug"),k=Nt&&(0,n.bk)(_,Nt)||(0,n.uW)(_);!O.account_slug&&(k==null?void 0:k.get("slug"))&&!O.name&&(O.account_slug=k.get("slug"));const Rt=Ot?null:(0,m.Hh)(_),Ht=k==null?void 0:k.get("organization_id"),$t=Ot?(0,m.mT)(_,Ot):Rt==null?void 0:Rt.find(It=>It.get("id")===Ht),St=qt({location:nt,params:O}),yt=W.map(It=>It.path).filter(Boolean).pop();let pt=(ft=(Et=[...W])==null?void 0:Et.pop())==null?void 0:ft.excludeAppNav;if(!((gt=V==null?void 0:V.props)!=null&&gt.route))throw new Error("Children of <App> must be a route");!!((Wt=(ht=(At=V==null?void 0:V.props)==null?void 0:At.route)==null?void 0:ht.component)!=null&&Wt.excludeAppNav)&&!(ut!=null&&ut.get("id"))&&(pt=!0);const Bt=!!ut&&!!k,Ft=nt.pathname==="/"&&k&&(0,Q.l_)(k),xt=Ft&&nt.search?`${Ft}${nt.search}`:Ft,Vt=(0,T.jS)(_),bt=(0,g.xm)(_);return{isAuthViewReady:Bt,user:ut,site:Ct,params:O,account:k,accounts:Kt,api:(0,e.ac)(_),organization:$t,organizations:Rt,navigation:St==null?void 0:St.filter(It=>It.get("isVisible")({account:k,site:Ct})),redirect:xt,backTo:nn({routes:W,location:nt,params:O,navigation:St}),userId:ut&&ut.get("id")||null,notifications:(0,P._6)(_),lastNotificationReadAt:(0,P.P$)(_),excludeAppNav:pt,routePath:yt,showGuidedOnboarding:Vt,currentProviderSecureDecision:bt}},an=_=>({setA11yMessage:(...O)=>_((0,T.FY)(...O)),onLoad:({siteName:O})=>_((0,a.$D)()).then(W=>(O&&_((0,I.EQ)(O)),W&&(_((0,m.Wu)()),_((0,n.vP)()),_((0,P.oA)()),Gt()),W)).catch(W=>W.code===401?_((0,a.Ov)(window.location.pathname)):Promise.reject(W)),loadNotifications:({user:O})=>O&&_((0,P.oA)()),onReadNotifications:O=>_((0,P.A7)(O)),onClickNotification:O=>_((0,P.y9)(O)),onLogout:O=>{_((0,a.TX)(O)),Yt(),Gt()},onDragEnter:O=>{_((0,r.f$)())},onDragLeave:O=>{(O.clientX<=0||O.clientY<=0||O.clientX>window.innerWidth||O.clientY>window.innerHeight)&&_((0,r.Xs)())},onDragOver:O=>{O.preventDefault()},onDrop:O=>{O.preventDefault(),_((0,r.Xs)())},trackUpgrade:(O,W)=>{_((0,M.L9)({event:O,...W}))},onCancelDeploy:(O,W)=>{_((0,L.li)((0,D.Map)({name:O}),(0,D.Map)({id:W})))},onChangeRoutePath:O=>{_((0,T.Qf)(O))},setPaymentProviderSecureDecisionState:O=>_((0,g.ot)(O))}),cn=(0,u.qC)((0,c.$j)(rn,an))(sn)},17762:(b,R,t)=>{t.d(R,{Z:()=>K});var i=t(24246),f=t(90046),v=t(27378),s=t(23884),D=t(2799),A=t(27196),E=t(61712),c=t(15148),l=t(22351),u=t(92115),o=t(15949),n=t(34183);const e=d=>{const p=[/Failed during stage 'building site': Build script returned non-zero exit code:? ([\d]+)/i,/Failing build: Failed to parse configuration/i,/Error: Failed to install/i,/Plugin "netlify-plugin-(.*)" failed/i];for(const C of p)if(C.test(d))return"fail";const U=[/Command failed with exit code:? ([\d]+)/i];for(const C of U)if(C.test(d))return"error"};function a(d){return{log:"Deploy skipped",ts:d.get("created_at")}}function g(d){return{log:"[WARNING] We are experiencing internal issues storing deploy logs. Some log lines may be missing.",ts:d.get("created_at")}}function L(d){return{log:"Deploy request is pending review",ts:d.get("created_at")}}function r(d){return{log:"Deploy request was rejected",ts:d.get("updated_at")}}function P(){return{log:"[ERROR] Deploy logs are currently unavailable. We are working on resolving the issue.",ts:new Date}}function m(d){return{log:d.get("state")==="new"?"Queueing build":"There is no log for this deploy",ts:new Date().toString()}}function I(d){return d&&!!d.get("skipped")}function M(d){return d&&!!d.get("skipped_log")}function T(d){return d&&d.get("state")==="pending_review"}function S(d){return d&&d.get("state")==="ready"}function h(d){return d&&d.get("state")==="rejected"}function y(d){return d&&d.get("state")==="error"}function $(d){const p=(0,l.f3)(d),U=d.log||d.msg||"",C=/(Failed during stage 'building site': Build script returned non-zero|Command failed with) exit code:? ([\d]+)/i;if(U.match(C)){const[,,N]=U.match(C);return`${p} (https://ntl.fyi/exit-code-${N})`}return p}function J(d){const{deploy:p,children:U,onDone:C,overview:N}=d,[G,ot]=(0,v.useState)(!1),[B,Y]=(0,v.useState)(null),z=(0,v.useRef)(!1),Q=(0,v.useRef)(null),F=(0,v.useRef)(null),w=(0,v.useRef)(null),X=(0,v.useRef)(null),rt=p==null?void 0:p.get("id"),it=p?T(p):!1,Pt=p?y(p):!1,{project_seedot_ui:Dt}=(0,c.Vb)();(0,v.useEffect)(()=>{S(p)&&ot(!0)},[p]),(0,v.useEffect)(()=>{if(!(!rt||N))return q(p),()=>{z.current=!0,_t()}},[rt,it,N]),(0,v.useEffect)(()=>{!G||C(d)},[G]);const mt=Z=>{if(!Z)return;if(I(Z))return tt(a(Z));if(h(Z))return tt(r(Z));if(T(Z))return tt(L(Z));M(Z)&&tt(g(Z),!1);const ct={type:"socketeer",siteId:Z.get("site_id"),deployId:Z.get("id"),resource:o.Z.BUILD};if(Q.current=(0,u.u)(ct),!Q.current)return tt(m(Z));Q.current.listen(et,lt),F.current=setInterval(Lt,1e3)},_t=()=>{F.current&&clearInterval(F.current),Q.current&&Q.current.close()},q=Z=>{_t(),mt(Z)},tt=(Z,ct=!0)=>{z.current||(w.current=(w.current||(0,f.List)()).push(Z),ct&&Lt())},et=(Z=m(p))=>{const ct=Z.log,Ut=Z.ts||Z.time;if(Dt&&Z.section){const jt=e(ct);tt({...Z,...jt&&{status:jt}},!1)}else tt(Z,!1);/site is live|error deploying site|finished processing build request|canceling deploy/i.test(ct)?at():/Fetching cached dependencies/.test(ct)?X.current=Ut:/Starting post processing/.test(ct)&&dt(X.current,Ut)},lt=Z=>{tt(P()),_t()},Lt=()=>{!z.current&&Y(w.current)},at=()=>{z.current||ot(!0)},dt=(Z,ct)=>Z&&ct&&d.onBuildDone(p,Z,ct);return U?(0,v.cloneElement)(U,{...d,log:B}):(0,i.jsx)(n.Z,{...d,log:B,streaming:!G,formatLogEntry:Pt?$:l.f3,deployIsDone:G})}function x(d,{deploy:p,site:U,overview:C}){return{deploy:C?(0,A.dk)(d,U):p,fetchLog:(...N)=>(0,D.ac)(d).deployLog(...N)}}function j(d){return{onDone:({deploy:p,site:U,onLoadDeployPluginRuns:C})=>{p&&d((0,A.N2)(p.get("id"))),U&&d((0,E.EQ)(U.get("name"))),C&&C(p==null?void 0:p.get("id"))},onBuildDone:(p,U,C)=>{d((0,A.E)(p,U,C))}}}const K=(0,s.$j)(x,j)(J)},16582:(b,R,t)=>{t.d(R,{Z:()=>E});var i=t(24246),f=t(23884),v=t(61712),s=t(38738);const D=({dragging:c,uploading:l,intro:u,image:o,site:n,accountSlug:e,dispatch:a,trackEvent:g,scrollIntoView:L=!0,createdVia:r=""})=>{const P=m=>(g&&g(),(n?()=>Promise.resolve(n):()=>a((0,v.UJ)(e,r)))().then(M=>a((0,v.mV)(M,m))));return(0,i.jsx)(s.Z,{scrollIntoView:L,onUpload:P,dragging:c,uploading:l,image:o,intro:u})};function A(c,l){return{dragging:c.dragging&&c.dragging.get("active"),uploading:!!c.uploadState}}const E=(0,f.$j)(A)(D)},48108:(b,R,t)=>{t.d(R,{Z:()=>A});var i=t(24246),f=t(27378),v=t(54216),s=t(11982);const A=E=>{const{site:c}=E,{setIsLoadingApp:l}=(0,s.bn)();return(0,f.useEffect)(()=>{l(!1)},[l]),(0,i.jsx)(v.Z,{...E,usesEdgeFunctions:c.get("use_edge_functions")})}},82563:(b,R,t)=>{t.d(R,{Z:()=>l});var i=t(24246),f=t(27378),v=t(23884),s=t(21759),D=t(92700);const A=u=>((0,f.useEffect)(()=>{u.onLoad(u)},[]),(0,i.jsx)(D.Z,{...u})),E=(u,{site:o})=>({services:(0,s.M2)(u,o)}),c=u=>({onLoad:({site:o})=>u((0,s.k4)(o))}),l=(0,v.$j)(E,c)(A)},57329:(b,R,t)=>{t.d(R,{Z:()=>j});var i=t(24246),f=t(88251),v=t.n(f),s=t(90046),D=t.n(s),A=t(19783),E=t.n(A),c=t(27378),l=t(99927),u=t(93969),o=t(74479),n=t(45465),e=t(15959),a=t(7073),g=t(22351),L=t(92115),r=t(15949),P=t(50120),m=t(67933);function I(K){const d=K==null?void 0:K.get("level");return d!=="WARN"&&d!=="ERROR"?"":v()(`
    ${d==="WARN"?"tw-bg-gold-darkest tw-border-gold-darker":"tw-bg-red-darkest tw-border-red-darker"}
    tw-border-px
    tw-border-r-0
    tw-border-l-0
    tw-border-solid
  `)}const M=50,T=200,S=v()(`
  md:tw-mt-0
  tw-ml-0
  tw-mt-0
  tw-mb-2
  tw-w-full
  xl:tw-mb-0
  xl:tw-flex-basis-1
  xl:tw-flex-grow
  xl:tw-mr-0
`),h=()=>n.Z.getInitialDateRange(),y=K=>{const[d,p]=(0,c.useState)((0,s.List)()),U=(0,c.useRef)((0,s.List)()),C=(0,c.useRef)(null),{dateTimeRange:N,streaming:G}=K,ot=(0,c.useCallback)(E()(()=>{p(U.current)},T,{leading:!0}),[]);return(0,c.useEffect)(()=>{var B;const Y=()=>{var Q,F;if(C.current)return;const{site:w,func:X,user:rt,log_type:it}=K,Pt=w.get("id"),Dt=X.get("n"),mt=(0,e.XF)(X).replace(/\./g,"-"),_t=`/functions/${Pt}/${mt}/${Dt}/log`;C.current=(0,L.u)({type:it||"socketeer",resource:r.Z.FUNCTION,functionId:X.get("oid")||X.get("id"),siteId:Pt,apiToken:rt.get("access_token"),awsAccountId:X.get("a"),path:_t,fromDatetime:(Q=N.from)==null?void 0:Q.toISOString(),toDatetime:(F=N.to)==null?void 0:F.toISOString()}),C.current.listen(q=>{q&&(U.current=(0,s.fromJS)([...U.current,q]),ot())},q=>{U.current=(0,s.fromJS)([...U.current,{ts:new Date,log:"[ERROR] Function logs are currently unavailable. We are working on resolving the issue."}]),ot()})},z=()=>{!C.current||(C.current.close(),C.current=null)};if((B=U.current)!=null&&B.size&&(U.current=(0,s.List)(),p(U.current)),!G){z();return}return Y(),()=>{z()}},[G,N.to,N.from]),{logs:d,streaming:K.streaming,source:"stream"}},$=({site:K,scope:d,filtersValue:p,func:U,dateTimeRange:C,streaming:N,...G})=>{var ot,B;const Y=K==null?void 0:K.get("id"),z=U==null?void 0:U.get("n"),Q=(0,P.I)(),F=(ot=C.from)==null?void 0:ot.getTime(),w=(B=C.to)==null?void 0:B.getTime(),X=(0,P.v)(q=>{const tt=(0,u.x0)(q,K,d);return tt==null?void 0:tt.get("branch")}),rt=(0,P.v)(q=>(0,l.ZF)(q,Y,z,{branch:X,q:p.term,from:F,to:w})||null),it=(0,P.v)(q=>(0,l.rm)(q,Y,z,{branch:X,q:p.term,from:F,to:w})||(0,s.List)()),Pt=(0,P.v)(q=>(0,l.lf)(q,Y,z,{branch:X,q:p.term,from:F,to:w})),Dt=(0,c.useRef)(new Set),mt=!!(it!=null&&it.size)&&!rt,_t=async()=>{const q=`${rt||"initial"}-${p.term}-${F}-${w}-${X}`;Dt.current.has(q)||(Dt.current.add(q),await Q((0,l.X4)(Y,z,{from:new Date(F).getTime(),to:new Date(w).getTime(),q:p.term,next_cursor:rt,branch:X})))};return(0,c.useEffect)(()=>{N||_t()},[N,p.term,F,w]),{logs:it,lastPage:mt,fetchMoreLogs:_t,streaming:!1,fetching:Pt,source:"page"}},J=K=>{const d=y(K),p=$(K);return!K.streaming?p:d},j=K=>{var d;const{c:p}=((d=K.func)==null?void 0:d.toJS())||{},U=p&&new Date(p),[C,N]=(0,c.useState)({term:""}),[G,ot]=(0,c.useState)(h()),[B,Y]=(0,c.useState)(!0),z=K.account.get("id")||"",{fetching:Q,streaming:F,logs:w,lastPage:X,fetchMoreLogs:rt,source:it}=J({...K,streaming:B,dateTimeRange:G,filtersValue:C}),Pt=(0,c.useMemo)(()=>g.E1,[]),Dt=(0,c.useMemo)(()=>g.Zh,[]);(0,c.useEffect)(()=>{N(et=>({...et,dateTimeRange:G}))},[G]);const mt=et=>{N(lt=>({...lt,term:et}))},_t=(et,lt)=>{const at=(et==null?void 0:et.get("type"))==="report"&&(et==null?void 0:et.get("level"))==="INFO"?et.set("level",""):et;return["log","requestId","level"].map(dt=>at==null?void 0:at.get(dt)).filter(Boolean).join(" ").toLowerCase().includes(lt.term.toLowerCase())},q=({range:et,id:lt})=>{Y(lt==="Real-time"),ot(et)},tt=it==="stream"||it==="page"&&Q?"Waiting for logs":"No results found for query";return(0,i.jsx)(a.Z,{datepicker:(0,i.jsx)(n.Z,{account:K.account,lastDeploy:U,isUnsupportedBackgroundFunction:(0,e.Oj)(K.func),onChange:q}),log:w.isEmpty()?null:w,fetching:Q,streaming:F,fixedHeight:!0,noWrap:!0,emptyLogMessage:tt,title:"Function log",formatLogEntry:Pt,getLogLineClasses:I,scrollPause:!0,filters:C,lastPage:X,filterFn:it==="stream"?_t:null,loadMoreLogs:rt,search:(0,i.jsx)("div",{className:S,children:(0,i.jsx)(m.Z,{placeholder:"Filter by request ID, message, log level",value:C.term,onSearch:mt,onFocus:()=>o.iN.appFunctionLogsTextFilterFocused({accountId:z})})}),source:it,overscanRowCount:M,formatForClipboard:Dt,onCopyToClipboard:()=>o.iN.appFunctionLogsCopyClicked({accountId:z}),onPlayPause:()=>o.iN.appFunctionLogsPauseClicked({accountId:z}),onScrollToBottom:()=>o.iN.appFunctionLogsScrollBottomClicked({accountId:z}),onScrollToTop:()=>o.iN.appFunctionLogsScrollTopClicked({accountId:z})})}},12964:(b,R,t)=>{t.d(R,{Z:()=>L});var i=t(24246),f=t(27378),v=t(23884),s=t(34740),D=t(29861),A=t(10583),E=t(87883),c=t(96764),l=t(13160),u=t(61712),o=t(52336);const n={[D.CB.github_enterprise]:!0,[D.CB.gitlab_self_hosted]:!0},e=({repo:r,onPrepareRepo:P,onMissingData:m,onError:I,loadMoreBranches:M,site:T,account:S,accounts:h,onSubmit:y,onApplyHeuristics:$,provider:J,outset:x,nameKey:j,template:K,trackChangeClick:d,form:p=o.Z,availablePlugins:U,availablePluginsError:C,availablePluginsFetching:N,onLoadPlugins:G,skipPrepare:ot=!1,gitUser:B,user:Y,route:z},Q)=>{const F=p,w=r==null?void 0:r.getIn(["branchPagination","next"]),X=r==null?void 0:r.get("error"),rt=r==null?void 0:r.get("id");return(0,f.useEffect)(()=>{!N&&!C&&!(U!=null&&U.size)&&G()},[U,C,N]),(0,f.useEffect)(()=>{if(!r){m("repo");return}ot||P(r)},[rt]),(0,f.useEffect)(()=>{X&&(I(X),m("repo"))},[X]),(0,f.useEffect)(()=>{J!==D.CB.bitbucket&&w&&M(r,w)},[J,w]),r?(0,i.jsx)(F,{site:T,account:S,accounts:h,repo:r,onSubmit:y,outset:x,onApplyHeuristics:$,accountSpecificGitProvider:n[J],provider:J,nameKey:j,template:K,trackChangeClick:d,availablePlugins:U,availablePluginsError:C,gitUser:B,user:Y,route:z}):null};function a(r,P){const{organization:m,name:I}=P.params,{repoFromURL:M}=P,T=P.params.repo||P.repo,S=m||"",h=S?`${S}/${T}`:T,y=(0,u.lH)(r,I),$=!y&&(0,A.L3)(r),J=$&&(0,A.uW)(r),x=decodeURIComponent(h),j=(0,c.f6)(r),K=(0,c.iQ)(r),d=(0,c.WF)(r);return{repo:(M==null?void 0:M.mergeDeep((0,l.Wo)(r,x)))||(0,l.Wo)(r,x),provider:(0,E.oI)(r),gitUser:(0,E.z8)(r),site:y,accounts:$,account:J,availablePlugins:j,availablePluginsError:K,availablePluginsFetching:d,user:r.user}}function g(r,P){const{site:m,provider:I,onError:M,onSubmit:T}=P;return{onLoadPlugins:()=>r((0,c.bl)()),onPrepareRepo:S=>r((0,l.vb)(S)),loadMoreBranches:(S,h)=>r((0,l.Qg)(S,h)),onApplyHeuristics:(S,h,y)=>r((0,l.I0)(S,h,y,I)),onSubmit:(S,h)=>T?T(S,h):r((0,u.Er)(m,h,S.toJS(),"onboarding")).then(({site:y})=>s.mW.push(`/sites/${y.name}`)).catch(y=>M(y))}}const L=(0,v.$j)(a,g)(e)},86550:(b,R,t)=>{t.d(R,{Z:()=>o});var i=t(24246),f=t(23884),v=t(10583),s=t(87883),D=t(74479),A=t(66999),E=t(29861);const c=n=>{const{entryPoint:e,user:a,account:g}=n,L={userId:(a==null?void 0:a.get("id"))||"",entryPoint:e||"from direct visit",accountId:(g==null?void 0:g.get("id"))||""},r=P=>{switch(P){case E.CB.github:D.iN.appSignupSetupProviderGithubSelected(L);break;case E.CB.gitlab:D.iN.appSignupSetupProviderGitlabSelected(L);break;case E.CB.github_enterprise:D.iN.appSignupSetupProviderGithubEnterpriseSelected(L);break;case"gitlab_enterprise":D.iN.appSignupSetupProviderGitlabEnterpriseSelected(L);break;case E.CB.bitbucket:D.iN.appSignupSetupProviderBitbucketSelected(L);break;case E.CB.azure_devops:D.iN.appSignupSetupProviderAzureDevopsSelected(L);break;default:break}};return(0,i.jsx)(A.Z,{...n,trackSelectProvider:r})};function l(n){return{account:n.account||(0,v.uW)(n),user:n.user}}function u(n){return{onAuthenticate:e=>n((0,s.YR)(e))}}const o=(0,f.$j)(l,u)(c)},29498:(b,R,t)=>{t.d(R,{Z:()=>a});var i=t(24246),f=t(27378),v=t(23884),s=t(34740),D=t(29861),A=t(10583),E=t(87883),c=t(84319),l=t(13160),u=t(40073);function o(g){const{provider:L,organization:r,page:P,per_page:m,installationId:I,onError:M,onMissingData:T,loadRepos:S,loadGitUser:h,loadGitOrganizations:y,path:$,setSearchTerm:J,onboarding:x=!1,hideGitUser:j}=g;(0,f.useEffect)(()=>{L?K():T("provider")},[]),(0,f.useEffect)(()=>{!L||j&&!r||S({organization:r,page:P,per_page:m,installationId:I}).catch(C=>{M(C,{restart:C.code===401})})},[L,P,r,S]);const K=()=>{Promise.resolve(h()).then(()=>{j||S({organization:r,page:P,per_page:m,installationId:I}),y()})},d=({login:C})=>{y(),C&&C!==r?s.mW.push(`${$}/${C}/repos`):S({organization:r,page:P,per_page:m,installationId:I})},p=()=>S({organization:r,page:P,per_page:m,installationId:I,page:1}).catch(C=>{M(C,{restart:C.code===401})}),U=C=>J(C);return L?(0,i.jsx)(u.Z,{...g,onSearch:p,onTerm:U,onAppInstall:d,onboarding:x}):null}function n(g,L){var r,P,m;const{organization:I}=L.params,M=g.account||(0,A.uW)(g),T=(0,E.z8)(g),S=(0,c.wc)(g,I),h=(0,c.YX)(g),y=(0,E.oI)(g),$=D.uI.getIn([y,"hideGitUserFromRepoList"]),J=I||$&&((r=h==null?void 0:h.first())==null?void 0:r.get("api_id")),x=S||T&&T.get("login")===I&&T,j=x&&x.get("installation_id");return{account:M,page:((m=(P=L==null?void 0:L.location)==null?void 0:P.query)==null?void 0:m.page)||1,provider:(0,E.oI)(g),installationId:j,gitUser:T,organization:J,organizations:h,hideGitUser:$,searchTerm:(0,E.Lb)(g),repos:(0,l.yW)(g,J),pagination:(0,l.B$)(g,J)}}function e(g){return{loadRepos:L=>g((0,l.vD)(L)),loadGitUser:()=>g((0,E.Kd)()),loadGitOrganizations:()=>g((0,c.hi)()),setSearchTerm:L=>g((0,E.Cl)(L))}}const a=(0,v.$j)(n,e)(o)},8662:(b,R,t)=>{t.d(R,{Z:()=>P});var i=t(24246),f=t(90046),v=t.n(f),s=t(27378),D=t(23884),A=t(34740),E=t(10583),c=t(87883),l=t(96764),u=t(13160),o=t(61712),n=t(52336),e=t(29861);const a={[e.CB.github_enterprise]:!0,[e.CB.gitlab_self_hosted]:!0},g=({entryPoint:m,repo:I,onPrepareRepo:M,onMissingData:T,onError:S,loadMoreBranches:h,site:y,sites:$,account:J,accounts:x,onSubmit:j,onApplyHeuristics:K,provider:d,outset:p,availablePlugins:U,availablePluginsError:C,availablePluginsFetching:N,onLoadPlugins:G,user:ot,route:B})=>{const Y=I==null?void 0:I.getIn(["branchPagination","next"]),z=I&&I.get("error");return(0,s.useEffect)(()=>{!N&&!C&&!(U!=null&&U.size)&&G()},[U,C,N]),(0,s.useEffect)(()=>{I?M(I):T("repo")},[]),(0,s.useEffect)(()=>{z&&(S(z),T("repo"))},[z]),(0,s.useEffect)(()=>{d!==e.CB.bitbucket&&Y&&h(I,Y)},[d,Y]),I?(0,i.jsx)(n.Z,{entryPoint:m,user:ot,site:y,account:J,accounts:x,repo:I,onSubmit:j,outset:p,onApplyHeuristics:K,accountSpecificGitProvider:a[d],availablePlugins:U,availablePluginsError:C,route:B}):null};function L(m,I){const{repo:M,name:T}=I.params,S=(0,o.lH)(m,T),h=S&&(0,E.L3)(m).find(p=>p.get("slug")===S.get("account_slug")),y=h?(0,f.List)([h]):(0,E.L3)(m),$=y&&(0,E.uW)(m),J=h||$,x=decodeURIComponent(M),j=(0,l.f6)(m),K=(0,l.iQ)(m),d=(0,l.WF)(m);return{repo:(0,u.Wo)(m,x),provider:(0,c.oI)(m),site:S,accounts:y,account:J,availablePlugins:j,availablePluginsError:K,availablePluginsFetching:d}}function r(m,I){const{site:M,provider:T,onError:S}=I;return{onLoadPlugins:()=>m((0,l.bl)()),onPrepareRepo:h=>m((0,u.vb)(h)),loadMoreBranches:(h,y)=>m((0,u.Qg)(h,y)),onApplyHeuristics:(h,y,$="")=>{m((0,u.I0)(h,y,$,T))},onSubmit:(h,y)=>m((0,o.Er)(M,y,h.toJS(),"")).then(({site:$})=>A.mW.push(`/sites/${$.name}`)).catch($=>S($,{restart:$.code===401}))}}const P=(0,D.$j)(L,r)(g)},80476:(b,R,t)=>{t.d(R,{Z:()=>l});var i=t(24246),f=t(27378),v=t(23884),s=t(53478),D=t(73193);const A=u=>((0,f.useEffect)(()=>{u.onLoad()},[]),(0,i.jsx)(D.Z,{...u}));function E(u,{site:o}){return{identity:(0,s.jZ)(u,o)}}function c(u,{site:o}){return{onLoad:()=>u((0,s.r6)(o)),onCreate:()=>u((0,s.XD)(o)),onUpdate:n=>u((0,s.EI)(o,n)),onDelete:()=>u((0,s.dU)(o))}}const l=(0,v.$j)(E,c)(A)},21512:(b,R,t)=>{t.d(R,{Z:()=>l});var i=t(24246),f=t(90046),v=t.n(f),s=t(23884),D=t(4310);const A=({component:u,children:o,...n})=>{const e=u||o;return(0,i.jsx)(e,{...n})};function E(u){const o=u.user;return{user:o,progress:o&&o.get("onboarding_progress")||(0,f.Map)()}}function c(u){return{onProgress:(o,n)=>u((0,D.fq)(o,n))}}const l=(0,s.$j)(E,c)(A)},42838:(b,R,t)=>{t.d(R,{Z:()=>o});var i=t(24246),f=t(27378),v=t(23884),s=t(21340),D=t(2799),A=t(22059),E=t(41862);const c=n=>{const{onLoad:e,account:a}=n,g=a.get("id");return(0,f.useEffect)(()=>{e(n)},[g]),(0,i.jsx)(A.Z,{...n})};function l(n,{account:e}){const a=(0,D.ac)(n);return{receipts:(0,s.L6)(n,e),api:{receiptPdf:g=>a.accountReceiptPdf(e.get("slug"),g)}}}function u(n,{account:e}){return{onLoad:()=>(0,E.gK)(e)&&n((0,s.V8)(e))}}const o=(0,v.$j)(l,u)(c)},19774:(b,R,t)=>{t.d(R,{Z:()=>o});var i=t(24246),f=t(27378),v=t(23884),s=t(96764),D=t(11982);const A=(n,e)=>n.name>e.name?1:-1,E=(n,e)=>{if(e){const a=[];return n.size&&n.toArray().map(g=>{const L=g.get("package").toLowerCase(),r=g.get("description").toLowerCase(),P=g.get("name").toLowerCase(),m=e.toLowerCase();return L.includes(m)||r.includes(m)||P.includes(m)?a.push(g.toObject()):null}),a}return n.size&&n.toArray().map(a=>{var g;return{...a.toObject(),compatibility:((g=a.get("compatibility"))==null?void 0:g.toJS())||null}}).sort(A)||[]},c=({account:n,component:e,children:a=void 0,onLoadPlugins:g,plugins:L,pluginsError:r,searchTerm:P,onStartInstall:m,path:I})=>{const{setIsLoadingApp:M}=(0,D.bn)();(0,f.useEffect)(()=>{g(),M(!1)},[g]);const T={account:n,plugins:E(L,P),pluginsError:r,searchTerm:P,path:I,onStartInstall:m};return e?(0,i.jsx)(e,{...T}):(0,f.cloneElement)(a,T)},l=(n,{selector:e=null})=>({plugins:e?e(n):(0,s.f6)(n),pluginsError:(0,s.iQ)(n)}),u=n=>({onLoadPlugins:()=>n((0,s.bl)()),onStartInstall:(e,a,g)=>n((0,s.D8)(e,a,g))}),o=(0,v.$j)(l,u)(c)},23602:(b,R,t)=>{t.d(R,{Z:()=>u});var i=t(24246),f=t(27378),v=t(23884),s=t(21759),D=t(12734),A=t(11982);const E=({component:o,children:n,onLoad:e,...a})=>{const{setIsLoadingApp:g}=(0,A.bn)();(0,f.useEffect)(()=>{e(),g(!1)},[]);const L=o||n||D.Z;return(0,i.jsx)(L,{...a})};function c(o,{site:n}){return{services:(0,s.M2)(o,n)}}function l(o,{site:n}){return{onLoad:()=>o((0,s.k4)(n)),onCreate:(e,a)=>o((0,s.G6)(n,e,a)),onUpdate:(e,a)=>o((0,s.Pg)(n,e,a)),onDelete:e=>o((0,s.wo)(n,e)),onGenerateToken:(e,a)=>o((0,s.RA)(e,a))}}const u=(0,v.$j)(c,l)(E)},19160:(b,R,t)=>{t.d(R,{Z:()=>o});var i=t(24246),f=t(27378),v=t(23884),s=t(64437),D=t(21792),A=t(11982),E=t(31399);const c=({site:n,onLoad:e,members:a})=>{const{setIsLoadingApp:g}=(0,A.bn)();(0,f.useEffect)(()=>{g(!1)},[g]),(0,f.useEffect)(()=>{e({site:n})},[]);const L=n.get("account_slug"),r=(0,E.Z)(L);return(0,f.useEffect)(()=>{L!==r&&e({site:n})},[L,r]),(0,i.jsx)(D.Z,{site:n,members:a})},l=(n,{site:e})=>({members:(0,s.ad)(n,e)}),u=n=>({onLoad:({site:e})=>n((0,s.el)(e))}),o=(0,v.$j)(l,u)(c)},53780:(b,R,t)=>{t.d(R,{Z:()=>u});var i=t(24246),f=t(27378),v=t(23884),s=t(10583),D=t(25556),A=t(74092);const E=o=>{(0,f.useEffect)(()=>{var e;(e=o.onLoad)==null||e.call(o,o)},[]);const n=o.component||o.children;return(0,i.jsx)(n,{...o})};function c(o,{account:n}){return{paymentMethod:(0,A.DY)(o,n),paymentProvider:(0,D.nY)(n),plans:(0,s.qL)(o)}}function l(o,{account:n}){return{onLoad:({account:e})=>{o((0,s.vP)()),o((0,s.Ko)()),o((0,A.nS)(e))},onUpdate:(e,a)=>o((0,s.sG)(e,a)),onPaymentProviderTokenUsed:()=>o((0,D.Uc)(n)),onSavePaymentMethod:e=>o((0,A.BX)(e,n))}}const u=(0,v.$j)(c,l)(E)},78796:(b,R,t)=>{t.d(R,{Z:()=>r});var i=t(2926),f=t.n(i),v=t(90046),s=t.n(v),D=t(27378),A=t(23884),E=t(14938),c=t.n(E),l=t(81622),u=t(2799),o=t(27196);const n=8,e=P=>({publish:o.LT,delete:o.vQ,lock:o.Bn,unlock:o.FN,retry:o.kR,cancel:o.li})[P];function a(P,m,I){const M=m.path.replace(/^\//,"").split("/");let T=null;for(;M.length;)T=M.shift(),M.length?P=P.folder(T):P.file(T,I)}function g(P){const[m,I]=(0,D.useState)(null),M=x=>{I((0,v.Map)(x))},T=async x=>{const{user:j,config:K}=P,d=x.get("id"),p=(0,u.ac)({user:j,config:K});if(!p)return;M({state:"downloading"});const C=(await t.e(1578).then(t.t.bind(t,82858,23))).default,N=new C;p.deployFiles(d).then(G=>{const ot=c()(c().n(n),B=>p.deployFile(d,B.path).then(Y=>a(N,B,Y)));return G.data.map(ot)}).then(G=>Promise.all(G)).then(()=>N.generateAsync({type:"blob"})).then(G=>{M({state:"ready",zip:G})}).catch(G=>{M({state:"error",error:G})})},S=(x,j)=>{const K=`deploy-${x.get("id")}.zip`,d=j.get("zip");return(0,i.saveAs)(d,K)},h=(x,j)=>{j&&j.get("zip")?S(x,j):T(x)},y=(x,j,K)=>{const d=e(x);return P.dispatch(d(P.site,j,K))},{component:$,...J}=P;return(0,D.createElement)($||l.Z,{...J,download:m,onDeployAction:y,onDownload:h})}function L(P){return{user:P.user,config:P.config,api:(0,u.ac)(P)}}const r=(0,A.$j)(L)(g)},43020:(b,R,t)=>{t.d(R,{Z:()=>u});var i=t(27378),f=t(27196),v=t(61712),s=t(15148),D=t(52982),A=t(52796);function E(o){const{poll:n,dispatch:e,site:a,page:g,perPage:L,filter:r}=o,{component:P,children:m,...I}=o,{project_lunatone_ui:M}=(0,s.Vb)(),T=(0,i.useRef)(null);return(0,i.useEffect)(()=>{const S=()=>{e((0,f.Kr)(a,c({page:g,perPage:L,filter:r}))),e((0,v.EQ)(a.get("name")))};if(T.current&&clearInterval(T.current),n)return T.current=setInterval(S,(0,D.S)(M)),()=>{clearInterval(T.current)}},[g,L,r,n]),P?(0,i.createElement)(P,I,m):(0,i.cloneElement)(m,I)}function c({page:o,perPage:n,filter:e}){return{page:o,perPage:n,filter:e}}function l(o,n){const e=n.site,a=c(n);return{deploys:(0,f.Oh)(o,e,a),pagination:(0,f.ly)(o,e,a),pendingDeploys:(0,f.mh)(o,e)}}const u=(0,A.v)(l,o=>(0,f.Kr)(o.site,c(o)),"page","perPage","filter")(E)},50784:(b,R,t)=>{t.d(R,{Z:()=>u});var i=t(27378),f=t(2799),v=t(69264),s=t(15201),D=t(32782),A=t(52796);const E=({children:o,component:n=D.Z,...e})=>{const a=(r,P,m)=>e.dispatch((0,v.zH)(r,P,m)),g=(r,P)=>e.dispatch((0,v.XL)(r,P,{...c(e),page:1})),L=(r,P)=>e.dispatch((0,v.cJ)(r,P,{...c(e),page:1}));return e.onDelete=a,e.onMarkAsSpam=g,e.onMarkAsHam=L,o?(0,i.cloneElement)(o,e):(0,i.createElement)(n,e,o)};function c({page:o=1,perPage:n=s.F,formId:e,filter:a}){return{page:o,perPage:n,formId:e,filter:a}}function l(o,n){const e=n.site,a=c(n);return{...a,form:(0,v.jy)(o,a.formId),forms:(0,v.Jo)(o,e),submissions:(0,v.Rg)(o,e,a),pagination:(0,v.$d)(o,e,a),api:{formSubmissions:(...g)=>(0,f.ac)(o).formSubmissions(...g)}}}const u=(0,A.v)(l,o=>(0,v.A)(o.site,c(o)),"page","perPage","formId","filter")(E)},12970:(b,R,t)=>{t.d(R,{Z:()=>E});var i=t(27378),f=t(53478),v=t(52796);function s({component:c,children:l,...u}){return c?(0,i.createElement)(c,u,l):(0,i.cloneElement)(l,u)}function D(c){return{...c.location.query}}function A(c,{site:l,...u}){const o=D(u),n=(0,f.dk)(c,l,o);return{...o,provisioned:!!l.get("identity_instance_id"),users:n,pagination:(0,f.PO)(c,l,o)}}const E=(0,v.v)(A,({site:c,...l})=>(0,f.FJ)(c,D(l)),"provisioned","page","per_page","sort","filter")(s)},4120:(b,R,t)=>{t.d(R,{Jg:()=>E.Jg,ND:()=>E.ND,ZP:()=>n});var i=t(27378),f=t(23884),v=t(69264),s=t(87883),D=t(39588),A=t(21759),E=t(58522),c=t(15479);const l=({onLoad:e,component:a,...g})=>{var L,r;return(0,i.useEffect)(()=>{e()},[(L=g.account)==null?void 0:L.get("id"),(r=g.account)==null?void 0:r.get("type_slug")]),(0,i.createElement)(a||c.Z,g)};function u(e,{site:a}){return{hooks:(0,D.e_)(e,a),hookTypes:(0,D.o6)(e,a),forms:(0,v.Jo)(e,a),provider:(0,s.oI)(e)}}function o(e,{site:a,filter:g}){return{onLoad:()=>{e((0,D.Eq)(a)),e((0,D.v9)(a)),g===E.Jg&&e((0,v.jn)(a))},onDelete:L=>e((0,D.$_)(a,L)),onCreate:L=>e((0,D.Bi)(a,L)),onUpdate:(L,r)=>e((0,D.ny)(a,L,r)),onTokenRequest:(L,r)=>e((0,A.RA)(L,r))}}const n=(0,f.$j)(u,o)(l)},71730:(b,R,t)=>{t.d(R,{BU:()=>u,PP:()=>g,B6:()=>I});var i=t(24246),f=t(27378),v=t(23884),s=t(41256),D=t(61712),A=t(8225);const E=M=>((0,f.useEffect)(()=>{M.onLoad()},[]),(0,i.jsx)(A.Z,{...M})),c=(M,{site:T})=>({branches:(0,D.Un)(M,T),buildHooks:(0,s.Kr)(M,T)}),l=(M,{site:T})=>({onLoad:()=>{M((0,s.xF)(T)),M((0,D.WV)(T))},onAdd:S=>M((0,s.HN)(T,S)),onRemove:S=>M((0,s.$T)(T,S))}),u=(0,v.$j)(c,l)(E);var o=t(63978);const n=M=>(0,i.jsx)(o.Z,{...M}),e=(M,{site:T})=>({deployKey:(0,D.mY)(M,T)}),a=(M,{state:T,site:S})=>({onLoad:()=>{const h=S.get("build_settings").get("deploy_key_id");h&&M((0,D.rC)(h,S))},onAdd:()=>M((0,D.G$)())}),g=(0,v.$j)(e,a)(n);var L=t(19260);const r=M=>((0,f.useEffect)(()=>{M.onLoad(M.site)},[]),M.children?(0,f.cloneElement)(M.children,{...M}):(0,i.jsx)(L.Z,{...M})),P=(M,T)=>({}),m=(M,{site:T})=>({onLoad:()=>{T.get("snippets")||M((0,D.Cu)(T))},onAdd:S=>M((0,D.IS)(T,S)),onRemove:S=>M((0,D.UQ)(T,S))}),I=(0,v.$j)(P,m)(r)},57075:(b,R,t)=>{t.d(R,{Z:()=>c});var i=t(10583),f=t(61712),v=t(46495),s=t(52796);const D=15;function A(l){return{page:l.page,perPage:l.perPage||D,searchTerm:l.searchTerm,searchGlobally:l.searchGlobally,sortBy:l.sortBy,accountSlug:l.accountSlug}}function E(l,u){const o=A(u),n=(0,f.u)(l,o);return{sites:n,pagination:(0,f.OK)(l,o),loaded:!!n,user:l.user,account:(0,i.bk)(l,o.accountSlug),accounts:(0,i.L3)(l)}}const c=(0,s.v)(E,l=>(0,f.KZ)(A(l)),"page","perPage","searchTerm","searchGlobally","sortBy","accountSlug")(v.Z)},33332:(b,R,t)=>{t.d(R,{Z:()=>l});var i=t(27378),f=t(23884),v=t(61712),s=t(13992),D=t(67660);const A=({component:u,...o})=>{const{onLoad:n,site:e}=o;return(0,i.useEffect)(()=>{n(e)},[]),(0,i.createElement)(u||D.Z,o)},E=(u,{site:o})=>({branches:(0,v.Un)(u,o),splits:(0,s.Fz)(u,o)}),c=u=>({onLoad:o=>{u((0,s.Dk)(o)),u((0,v.WV)(o))},onCreate:(o,n)=>u((0,s.vj)(o,n)),onUpdate:(o,n,e)=>u((0,s.af)(o,n,e)),onStart:(o,n)=>u((0,s.m6)(o,n)),onStop:(o,n)=>u((0,s.VO)(o,n)),onUpdateSite:(o,n)=>u((0,v.L3)(o,n))}),l=(0,f.$j)(E,c)(A)}}]);
